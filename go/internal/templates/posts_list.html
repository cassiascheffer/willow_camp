{{define "content"}}
{{if .Posts}}
<!-- Mobile post list -->
<div class="block lg:hidden space-y-4">
    {{range .Posts}}
    <div class="card bg-base-100 shadow-md cursor-pointer hover:bg-base-200"
         onclick="window.location='/dashboard/blogs/{{$.Blog.ID}}/posts/{{.ID}}/edit';"
         aria-label="Edit post {{if .Title}}{{.Title}}{{else}}Untitled{{end}}">
        <div class="card-body">
            <div class="flex items-center mb-2">
                {{if .Published}}
                <span class="pr-2" aria-label="published">
                    {{heroicon "check" "h-5 w-5"}}
                </span>
                {{else}}
                <span class="pr-2" aria-label="draft">
                    {{heroicon "document" "h-5 w-5"}}
                </span>
                {{end}}
                <h2 class="card-title">{{if .Title}}{{.Title}}{{else}}Untitled{{end}}</h2>
            </div>
            <div class="flex justify-between items-center text-sm text-gray-500">
                <span>
                    {{if .PublishedAt}}{{.PublishedAt.Format "Jan 02, 2006"}}{{else}}Draft{{end}}
                </span>
                {{if .Published}}
                <a href="https://{{$.Blog.Subdomain}}.willow.camp/{{.Slug}}"
                   class="btn btn-sm btn-ghost"
                   target="_blank"
                   onclick="event.stopPropagation();"
                   aria-label="View post">
                    {{heroicon "arrow-top-right-on-square" "h-5 w-5 ml-1"}}
                </a>
                {{end}}
            </div>
        </div>
    </div>
    {{end}}
</div>

<!-- Desktop post list -->
<div class="hidden lg:block card bg-base-100 shadow-md mb-6">
    <table class="table w-full border-collapse" aria-label="Posts Table">
        <thead>
            <tr>
                <th class="text-left py-2">Title</th>
                <th class="text-left py-2">Status</th>
                <th class="text-left py-2">Published</th>
                <th class="text-left py-2">Featured</th>
                <th class="text-left py-2">View</th>
            </tr>
        </thead>
        <tbody>
            {{range .Posts}}
            <tr onclick="window.location='/dashboard/blogs/{{$.Blog.ID}}/posts/{{.ID}}/edit';" class="hover:bg-base-200 cursor-pointer">
                <td class="py-2">{{if .Title}}{{.Title}}{{else}}Untitled{{end}}</td>
                <td class="py-2">
                    {{if .Published}}
                    <span aria-label="published">
                        {{heroicon "check" "h-5 w-5"}}
                    </span>
                    {{else}}
                    <span aria-label="draft">
                        {{heroicon "document" "h-5 w-5"}}
                    </span>
                    {{end}}
                </td>
                <td class="py-2">{{if .PublishedAt}}{{.PublishedAt.Format "Jan 02, 2006"}}{{end}}</td>
                <td class="py-2">
                    {{if .Featured}}
                    <input type="checkbox" checked class="checkbox checkbox-sm" onclick="event.stopPropagation();">
                    {{else}}
                    <input type="checkbox" class="checkbox checkbox-sm" onclick="event.stopPropagation();">
                    {{end}}
                </td>
                <td class="py-2">
                    {{if .Published}}
                    <a href="https://{{$.Blog.Subdomain}}.willow.camp/{{.Slug}}"
                       class="btn btn-sm btn-ghost"
                       target="_blank"
                       onclick="event.stopPropagation();"
                       aria-label="View post">
                        {{heroicon "arrow-top-right-on-square" "h-5 w-5 ml-1"}}
                    </a>
                    {{end}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{else}}
<section class="empty-state text-center bg-base-200 rounded-lg p-12" aria-label="No Posts">
    <p class="text-xl font-bold mb-2">No posts yet</p>
    <p class="text-base-content mb-8">Create your first blog post to get started</p>
    <form action="/dashboard/blogs/{{.Blog.ID}}/posts/untitled" method="POST">
        <button type="submit" class="btn btn-primary">Create First Post</button>
    </form>
</section>
{{end}}
{{end}}
