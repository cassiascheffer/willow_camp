<% content_for :title, "Blog Posts" %>

<div class="container-standard">
  <% if notice.present? %>
    <p class="notice" id="notice"><%= notice %></p>
  <% end %>
  <% if alert.present? %>
    <p class="alert" id="alert"><%= alert %></p>
  <% end %>

  <div class="flex justify-between items-center mb-10">
    <h1 class="post-title">Blog Posts</h1>
    <div class="flex gap-2">
      <%= link_to "RSS", rss_posts_path(format: :rss), class: "inline-block px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600" %>
      <%= link_to "Atom", atom_posts_path(format: :atom), class: "inline-block px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600" %>
      <%= link_to "JSON", json_posts_path(format: :json), class: "inline-block px-3 py-1 text-sm rounded bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600" %>
    </div>
  </div>

  <div id="posts" class="space-y-2">
    <% if @posts.any? %>
      <% @posts.each do |post| %>
      <div class="post-card">
        <%= link_to post_path(post.slug), class: "post-card-link" do %>
          <h2 class="text-lg font-medium">
            <span class="text-date"><%= post.published_at.strftime("%b %d") %></span> - <%= post.title %>
          </h2>
        <% end %>
      </div>
      <% end %>
    <% else %>
      <div class="empty-state">
        <p class="text-xl">No posts yet</p>
        <p class="mt-2">Create your first blog post to get started</p>
      </div>
    <% end %>

    <%== pagy_nav(@pagy) %>
  </div>
</div>
